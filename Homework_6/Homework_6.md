## 第六次作业

## 摘要
本次作业完成了2.19题的要求：在角速度为2000rpm（即33.333rps）的情况下，为自旋效应对击出的球射程的影响进行建模分析。

由题干条件可以得出，本题要求在固定角速度的前提下，研究自旋效应相关变量（角速度方向与大小）对球击出射程的影响。

本题角速度固定，所以参考课本的设定，为了研究自旋效应的影响，设立了与其有关的变量：
> * ①无自旋效应影响（角速度=0）时的射程
> * ②有自旋效应，角速度为y方向时的射程
> * ③有自旋效应，角速度为z方向时的射程

并同时对结果画图使三种情况出现在一张图片上进行比较。

![](http://i.imgur.com/2ZmqLLd.jpg)


## 背景介绍
棒球的自旋会使得空气对棒球产生一种力，流体力学中称为马格努斯力。

![](http://i.imgur.com/b28qvwr.png)

（图片选自维基百科 [Magnus effect](https://en.wikipedia.org/wiki/Magnus_force)）

定义类flight_state用于存储每一时刻的飞行状态，包括水平、垂直、侧移位置x、y，水平、垂直速度vx，vy，vz,时刻t。

参考教材（2.30）式，有

![](http://i.imgur.com/544bg3f.jpg)

**参数说明**

> * ①Vx包含（2.26）式中的air drag速度相关的系数![](http://i.imgur.com/FUO3cP4.jpg)，而Vy与Vz没有，这是因为在这种情况下air drag太小了以至于忽略。

> * ②常数参数g = 9.8，
![](http://i.imgur.com/QJU1cYd.jpg)，其中包含自旋马格努斯效应的相关系数S0 ，满足![](http://i.imgur.com/jQ8bGHZ.jpg)，此处的表达式是标量式，当我们将其应用到三维空间中时，我们应当使用矢量表达式，即ω矢量叉乘v矢量。**故在进行不同方向的ω设置时，课本（2.30）式是不准确的，要进行相应修改（修改见源代码）**。
> * ③该式与课本前面所讲的内容脱节，没有引入空气密度随着高度的影响![](http://i.imgur.com/7cHceLh.jpg)以及水平于x方向的风速的影响，要进行相应修改（修改见源代码）。

> * ④考虑到方程没有解析解，于是根据欧拉法递推确定下一时刻的飞行状态，直到y小于等于0。dt设为0.1。

> * ⑤同时，对落点的取值进行了修正，取了在地面上的最后一个点以及在地面下的第一个点对于对应距地距离比值的加权算术平均。

## 正文
运行程序[Word-6](https://github.com/zhaozhanyi0804/computationalphysics_N2015301020052/blob/master/Homework_6/Word6.py)

由于题目没有具体要求定量分析比如求得最大值，故仅仅粗略改变参量，进行讨论


### **①固定发射角度为45度，初始速度150，逐渐增大风速**

- Y-X主视图

![](http://i.imgur.com/IenSNvm.jpg)

![](http://i.imgur.com/bCxCLqO.jpg)

![](http://i.imgur.com/zHP8u4r.jpg)

![](http://i.imgur.com/BVYHk1h.jpg)

![](http://i.imgur.com/QPCzMcd.jpg)

**可见逆风时球还没落地就被吹的逆向前进了，而顺风时风速度越大，球击出射程越远。同时，Z轴方向角度产生的回旋效应，随着风速增大，先增加射程后减小射程。**

- Z-X俯视图

![](http://i.imgur.com/jnsZRsO.jpg)

![](http://i.imgur.com/9aPvzKn.jpg)

![](http://i.imgur.com/TqRPB75.jpg)

![](http://i.imgur.com/mGBsnT6.jpg)

![](http://i.imgur.com/vm7EiuI.jpg)

![](http://i.imgur.com/YCOO2R1.jpg)

**可见，由于Z方向的马格努斯力受X方向速度影响，顺风时，风速增大，横向位移先减小增大，转折点在风速等于X方向初始速度时。可见得风速与X方向初始速度的差值越大，横向位移越大**


### **②固定发射角度为45度，风速为0，逐渐增大初始速度**

- Y-X主视图

![](http://i.imgur.com/OPjNY3a.jpg)

![](http://i.imgur.com/3jrlKgI.jpg)

![](http://i.imgur.com/9k787Wj.jpg)

![](http://i.imgur.com/zSAHRWE.jpg)

![](http://i.imgur.com/omwsru1.jpg)

![](http://i.imgur.com/NH2VP5c.jpg)

**可以看到初始速度越大，球击出射程越远。但随着初始速度增大，回旋效应与否对球击出射程的影响较小。**

- Z-X俯视图

![](http://i.imgur.com/4Ww7aBL.jpg)

![](http://i.imgur.com/CQOITmQ.jpg)

![](http://i.imgur.com/3PjPqk3.jpg)

**可以看到验证了固定发射角度为45度，初始速度150，逐渐增大风速时的结论：X方向初始速度恒大于风速时，初始速度越大，横向位移越大**


### **③固定初始速度为150，风速为0，逐渐增大发射角度**

- Y-X主视图

![](http://i.imgur.com/r5LWKVD.jpg)

![](http://i.imgur.com/SQgvoxO.jpg)

![](http://i.imgur.com/dbEwz4i.jpg)

![](http://i.imgur.com/sqMPruI.jpg)

**可以看到，发射角度越大，自旋效应对球击出射程的影响差别就越大。由第六次作业探讨问题的结论，最大球击出射程的发射角度应该在45度左右。同时，Z轴方向角度产生的回旋效应对射程的增加影响，随着角度增大，先减小后增大。**

- Z-X俯视图

![](http://i.imgur.com/G7xx7zD.jpg)

![](http://i.imgur.com/pSpsliN.jpg)

![](http://i.imgur.com/pfZTme3.jpg)

![](http://i.imgur.com/p4ale5Q.jpg)

**可以看到，角度对横向位移的影响与对射程的影响相同。**



### **④由上分析可以得出摘要中给出变量的讨论结果**

角速度固定，参考课本的设定，为了研究自旋效应的影响，设立了与其有关的变量：
> * ①无自旋效应影响（角速度=0）时的射程
> * ②有自旋效应，角速度为y方向时的射程
> * ③有自旋效应，角速度为z方向时的射程

由上分析可以看出，

**①角速度为y方向时的图像（蓝线）大多数情况下都与无自旋影响的图像（红线）重合，说明角速度为y方向时的自旋效应对射程的影响没有z方向下的强。**

**这可能是因为角速度为y方向时影响的是X与Z轴方向的加速度，为z时影响的是X与Y轴方向，对小球产生了一个向上的升力，导致浮空时间增长，落地时间增长，小球前进更远。**


**②横向位移只有在有自旋效应，角速度为y方向时（蓝线）产生，这是因为在该角速度方向时，马格努斯力才有分力在Z方向。**


### **⑤题目之外的进一步讨论，改变角速度**

在固定初始速度为150，风速为0，发射角度为45°的情况下进行研究

- Y-X主视图

![](http://i.imgur.com/Wi6pOIW.jpg)

![](http://i.imgur.com/f3cuVFu.jpg)

![](http://i.imgur.com/6yulioa.jpg)

往后的角速度会报错

OverflowError: math range error

查证是进行Z方向角速度的演算时出现问题，故往只能得到无自旋与Y方向自旋的图像。

![](http://i.imgur.com/lNh7PPE.jpg)

![](http://i.imgur.com/2nkDI6W.jpg)

![](http://i.imgur.com/oSgckbL.jpg)


- Z-X俯视图

![](http://i.imgur.com/6ubOz4g.jpg)

![](http://i.imgur.com/qK9CmNC.jpg)

![](http://i.imgur.com/OsqL7ln.jpg)

![](http://i.imgur.com/llWaU2X.jpg)

![](http://i.imgur.com/kGsJAT7.jpg)

![](http://i.imgur.com/4oGpYwS.jpg)


其中大角速度下的图像，明显不符合现实。可能是这里的简化条件不太符合。

所以到底哪里出了问题，我也并不太清晰。


## 结论

由题干条件可以得出，本题要求在固定角速度的前提下，研究自旋效应相关变量（角速度方向与大小）对球击出射程的影响。

角速度固定，参考课本的设定，为了研究自旋效应的影响，设立了与其有关的变量：
> * ①无自旋效应影响（角速度=0）时的射程
> * ②有自旋效应，角速度为y方向时的射程
> * ③有自旋效应，角速度为z方向时的射程

由上分析可以看出，

**①角速度为y方向时的图像（蓝线）大多数情况下都与无自旋影响的图像（红线）重合，说明角速度为y方向时的自旋效应对射程的影响没有z方向下的强。**

**这可能是因为角速度为y方向时影响的是X与Z轴方向的加速度，为z时影响的是X与Y轴方向，对小球产生了一个向上的升力，导致浮空时间增长，落地时间增长，小球前进更远。**


**②横向位移只有在有自旋效应，角速度为y方向时（蓝线）产生，这是因为在该角速度方向时，马格努斯力才有分力在Z方向。**
**①角速度为y方向时的图像（蓝线）大多数情况下都与无自旋影响的图像（红线）重合，说明角速度为y方向时的自旋效应对射程的影响没有z方向下的强。**

**这可能是因为角速度为y方向时影响的是X与Z轴方向的加速度，为z时影响的是X与Y轴方向，对小球产生了一个向上的升力，导致浮空时间增长，落地时间增长，小球前进更远。**


**②横向位移只有在有自旋效应，角速度为y方向时（蓝线）产生，这是因为在该角速度方向时，马格努斯力才有分力在Z方向。**


同时，对其他变量的研究可以得出结论

### **风速：**

逆风时球还没落地就被吹的逆向前进了，而顺风时风速度越大，球击出射程越远。同时，Z轴方向角度产生的回旋效应，随着风速增大，先增加射程后减小射程。

由于Z方向的马格努斯力受X方向速度影响，顺风时，风速增大，横向位移先减小增大，转折点在风速等于X方向初始速度时。可见得风速与X方向初始速度的差值越大，横向位移越大

### **初始速度：**

初始速度越大，球击出射程越远。但随着初始速度增大，回旋效应与否对球击出射程的影响较小。

验证了固定发射角度为45度，初始速度150，逐渐增大风速时的结论：X方向初始速度恒大于风速时，初始速度越大，横向位移越大

### **发射角度：**

发射角度越大，自旋效应对球击出射程的影响差别就越大。由第六次作业探讨问题的结论，最大球击出射程的发射角度应该在45度左右。同时，Z轴方向角度产生的回旋效应对射程的增加影响，随着角度增大，先减小后增大。

角度对横向位移的影响与对射程的影响相同。

## 致谢

感谢华杨学姐的讲解和代码参考！！！
